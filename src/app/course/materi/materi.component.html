<div class="wrapper p-4">
    <div class="course-greet">
        <p>Tambah Materi</p>
    </div>

    <div class="container" *ngIf="loadingClass">
        <div class="col-12 d-flex justify-content-center align-items-center" style="height: 75vh;">
            <app-loading></app-loading>
        </div>
    </div>

    <div class="container" *ngIf="!loadingClass">
        <div class="col-12 bg-white p-4">
            <form class="pt-0 pb-3" [formGroup]="materiForm">
                <h4>Informasi</h4>

                <table class="w-100 mt-3">
                    <tr>
                        <td>
                            <div class="row">
                                <div class="col-sm-6">
                                    <div class="form-group">
                                        <label for="exampleFormControlInput1">Nama Materi</label>
                                        <input type="text" class="form-control" id="lessonName"
                                            formControlName="lessonName" autocomplete="off">
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <div class="form-group">
                                        <label for="exampleFormControlSelect1">Kelas</label>
                                        <select class="form-control" id="classId" formControlName="classId"
                                            autocomplete="off">
                                            <option value="" disabled>Pilih Kelas</option>
                                            <option *ngFor="let data of listClass" value="{{ data['classId'] }}">{{
                                                data['className'] }}</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td class="pt-3">
                            <div class="row">
                                <div class="col-sm-6">
                                    <div class="form-group">
                                        <label for="exampleFormControlInput1">Deskripsi</label>
                                        <textarea class="form-control" id="lessonDescription"
                                            formControlName="lessonDesc" autocomplete="off" rows="6"></textarea>
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <p class="m-0">Upload Gambar Materi</p>
                                    <div class="container-dragdrop d-flex flex-column justify-content-center" appDnd
                                        (fileDropped)="onFileDropped($event)">
                                        <input type="file" #fileDropRef id="fileDropRef" accept=".png, .jpg, .jpeg, .svg" (change)="fileBrowseHandler($event.target)" />

                                        <div class="d-flex flex-column align-items-center justify-content-center"
                                            *ngIf="!base64Image">
                                            <div class="circle-drop d-flex align-items-center justify-content-center">
                                                <img src="assets/images/icon_upload.svg" alt="" width="27px">
                                            </div>

                                            <p class="mt-2">Drop gambar materi disini</p>
                                        </div>

                                        <div class="d-flex flex-column align-items-center justify-content-center"
                                            *ngIf="base64Image">
                                            <div class="circle-drop d-flex align-items-center justify-content-center">
                                                <img src="assets/images/icon_uploaded.svg" alt="" width="27px">
                                            </div>

                                            <p class="mt-2">Gambar berhasil diupload</p>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </td>
                    </tr>
                </table>

                <div class="mt-3 d-flex flex-row">
                    <button class="btn btn-danger" (click)="back()">Batal</button>
                    <div style="width: 20px;"></div>
                    <button class="btn btn-primary" (click)="onSave()">Simpan</button>
                </div>

            </form>
        </div>
    </div>
</div>

<!-- <h4 class="mt-4">Upload Files</h4>
                <div class="row mt-3">
                    <div class="col-sm-6">
                        <p class="m-0">Materi File</p>
                        <div class="container-dragdrop d-flex flex-column align-items-center justify-content-center"
                            appDnd (fileDropped)="onFileDropped($event)">
                            <input type="file" #fileDropRef id="fileDropRef" multiple
                                (change)="fileBrowseHandler($event.target)" />

                            <div class="circle-drop d-flex align-items-center justify-content-center">
                                <img src="assets/images/icon_upload.svg" alt="" width="50px">
                            </div>

                            <p class="mt-2">Drop File PDF Disini</p>
                        </div>
                        <div class="files-list">
                            <div class="single-file" *ngFor="let file of files; let i = index">
                                <div class="file-icon" style="width: 50px">
                                    <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg"
                                        xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 58 58"
                                        style="enable-background:new 0 0 58 58;" xml:space="preserve">
                                        <polygon style="fill:#EDEADA;" points="51.5,14 37.5,0 6.5,0 6.5,58 51.5,58 " />
                                        <g>
                                            <path style="fill:#CEC9AE;"
                                                d="M16.5,23h25c0.552,0,1-0.447,1-1s-0.448-1-1-1h-25c-0.552,0-1,0.447-1,1S15.948,23,16.5,23z" />
                                            <path style="fill:#CEC9AE;"
                                                d="M16.5,15h10c0.552,0,1-0.447,1-1s-0.448-1-1-1h-10c-0.552,0-1,0.447-1,1S15.948,15,16.5,15z" />
                                            <path style="fill:#CEC9AE;"
                                                d="M41.5,29h-25c-0.552,0-1,0.447-1,1s0.448,1,1,1h25c0.552,0,1-0.447,1-1S42.052,29,41.5,29z" />
                                            <path style="fill:#CEC9AE;"
                                                d="M41.5,37h-25c-0.552,0-1,0.447-1,1s0.448,1,1,1h25c0.552,0,1-0.447,1-1S42.052,37,41.5,37z" />
                                            <path style="fill:#CEC9AE;"
                                                d="M41.5,45h-25c-0.552,0-1,0.447-1,1s0.448,1,1,1h25c0.552,0,1-0.447,1-1S42.052,45,41.5,45z" />
                                        </g>
                                        <polygon style="fill:#CEC9AE;" points="37.5,0 37.5,14 51.5,14 " />
                                    </svg>
                                </div>
                                <div class="info">
                                    <h4 class="name">
                                        {{ file?.name }}
                                    </h4>
                                    <p class="size">
                                        {{ formatBytes(file?.size) }}
                                    </p>
                                    <mat-progress-bar value="{{file?.progress}}"></mat-progress-bar>
                                </div>

                                <div class="delete" (click)="deleteFile(i)">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="14" height="18" viewBox="0 0 14 18">
                                        <path fill="#B1B1B1" fill-rule="nonzero"
                                            d="M1 16c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2H3c-1.1 0-2 .9-2 2v10zm3.17-7.83a.996.996 0 0 1 1.41 0L7 9.59l1.42-1.42a.996.996 0 1 1 1.41 1.41L8.41 11l1.42 1.42a.996.996 0 1 1-1.41 1.41L7 12.41l-1.42 1.42a.996.996 0 1 1-1.41-1.41L5.59 11 4.17 9.58a.996.996 0 0 1 0-1.41zM10.5 1L9.79.29C9.61.11 9.35 0 9.09 0H4.91c-.26 0-.52.11-.7.29L3.5 1H1c-.55 0-1 .45-1 1s.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1h-2.5z" />
                                    </svg>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <p class="m-0">Thubnail File</p>
                    </div>
                </div> -->